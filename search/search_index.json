{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"ARSA - Automated Rashomon Set Analysis package","text":"<p>Weclome to the official ARSA documentation site. Here you can find a detailed description of the package main functionalities and the definitons of the calculated metrics.</p>"},{"location":"#overview","title":"Overview","text":"<p>ARSA is a Python library for detailed analysis of the Rashomon Sets - the collections of models that perform nearly equally well on a given dataset. It provides tools to create various objects, analyse the related properties and metrics, as well as visualize the results. The package is compatible with two AutoML frameworks - AutoGluon and H2O. Additionally, you may analyze your own set of models if you present their results in a requsted format (See : documentation).</p>"},{"location":"#installation","title":"Installation","text":"<p>Install the package with PyPI:</p> <pre><code>pip install arsa\n</code></pre>"},{"location":"#example-usage","title":"Example usage","text":"<pre><code>from rashomon_analysis.pipelines.builder_abstract import *\nfrom rashomon_analysis.pipelines.pipelines_user_input import *\n\n#build pipeline\nbuilder = BuildRashomonH2O(models_directory=example_models_path, \n                           test_data = test_h2o, \n                           target_column=target_column, \n                           df_name = 'heart', \n                           base_metric='accuracy', \n                           feature_imp_needed=True)\n# preview properties\nbuilder.preview_rashomon()\n\n#set epsilon\nbuilder.set_epsilon(0.03)\n\n#launch pipeline\nrashomon_set, visualizer = builder.build()\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<p>For detailed package dokumentation visit documentation page </p>"},{"location":"api/","title":"Documentation","text":"<p>home</p>"},{"location":"api/#arsa-documentation","title":"ARSA documentation","text":"<p>In this section you may find a detailed description of the package modules and features. </p> <ol> <li> <p>Converter      Converter is an abstract class defining methods that should be implemented in all subclasses. All of the converters are responsible for converting raw models input into files,which can be further processed to create the <code>RashomonSet</code> and <code>RashomonIntersection</code> objects. Those classes implement methods for extracting the leaderboard, predictions, probability predictions and feature importances from trained models provided by the user.</p> <p>1.1 PredictorConverter 1.2 H2OConverter  2. Rashomon Set  RashomonSet class is a primary class of the package, implementing all metrics used to describe and analyze the Rashomon Set.  3. Rashomon Intersection  RashomonIntersection class is a subclass of the Rashomon Set allowing the specification of two base metrics instead of just one. This class proposes a new way of creating and analysing the Rashomon Sets.  4. Visualizers The main purpose of the Visualizers is to create the plots and descriptions of key Rashomon Set elements. Those visualizations are further displayed on the dashboard created as a result of the chosen pipeline.   4.1 Visualizer 4.2 IntersectionVisualizer</p> </li> <li> <p> Builder      Builder is an abstract class defining methods that should be implemented in all subclasses. All those objects are used to create and launch pipelines accepting different forms of user input and resulting in the creation of the desired objects and launching the dashboard for further analysis.      5.1 BuildRashomonAutogluon      5.2 BuildRashomonH2O      5.3 BuildRashomonIntersectionH2O     5.4 BuildRashomonIntersectionAutogluon     5.5 BuildRashomonFromConverted     5.6 BuildIntersectionFromConverted</p> </li> </ol> <p>Note: User guide notebooks for Pipelines creation may be found in a github repository of the package. </p>"},{"location":"api/abstract_converter/","title":"Abstract converter","text":"<p>back</p>"},{"location":"api/abstract_converter/#converter-abstract-class","title":"Converter - abstract class","text":"class rashomon_analysis.converter.Converter <p> This class is an abstract class asserting all converter classes have the same set of obligatory methods. Converters are used to provide models results to the RashomonSet/RashomonIntersection in a correct format.</p> <p> </p> Methods <p> Note:  All methods are decorated as <code>@abstractmethod</code> and must be implemented in every child class.  </p> create_predictions_dict() <p>Method for extracting trained models and their class predictions from a used framework. Returns the results in a dictionary format with model names as keys and their class prediction vector (pandas.Series) as values.  Returns : <code>predictions_dict</code> : dict[str, pd.Series]  </p> create_proba_predictions_dict() <p>Method for extracting trained models and their probability predictions from a used framework. Returns the results in a dictionary format with model names as keys and their probabilistic predictions (pandas.DataFrame) as values.     Returns : <code>proba_predictions_dict</code> : dict[str, pd.DataFrame]  </p> create_feature_importance_dict() <p>Method for extracting trained models and their feature importance from a used framework. Returns the results in a dictionary format with model names as keys and the list of features sorted by feature importance as values.      Returns : <code>feature_importance_dict</code> : dict[str, list]      </p> save_results(<code>leaderboard, predictions_dict, proba_predictions_dict, feature_importance_dict, y_true, saving_path</code>) <p>Method for saving results returned by the <code>convert()</code> method in a specified or default directory.   Parameters : <code>leaderboard</code>: pd.DataFrame  created leaderboard to be saved as csv <code>predictions_dict</code> : dict  created class predictions dict to be saved as pickle <code>proba_predictions_dict </code>: dict   created proba predictions dict to be saved as pickle <code>feature_importance_dict</code> : dict   created feature importance dict to be saved as pickle <code>y_true</code> : pd.DataFrame   extracted target column to be saved as a csv <code>saving_path</code> : Path   path to a saving directory, if not specified default is timestamp + df_name </p> convert(<code>saving_path</code>) <p>\u2003 Primary method performing all the necessary calculations and returning the converted objects:              1. pd.DataFrame - leaderboard with all models and their scores              2. dict : predictions_dict             3. dict : proba_predictions_dict             4. dict : feature_importance_dict (or None if feature importance was not needed)             5. pd.DataFrame : y_true   Parameters : <code>saving_path</code>: Path  path to a saving directory, if not specified default is timestamp + df_name Returns : <code>leaderboard</code> : pd.DataFrame  <code>predictions_dict</code> : dict  <code>proba_predictions_dict</code> : dict <code>feature_importance_dict</code> : dict <code>y_true</code> : pd.DataFrame  </p>"},{"location":"api/autogluon_converter/","title":"Autogluon converter","text":"<p>back</p>"},{"location":"api/autogluon_converter/#predictorconverter","title":"PredictorConverter","text":"class rashomon_analysis.converters.PredictorConverter(predictor, test_data, df_name, feature_imp_needed = True)  <p> This subclass of the Converter abstract class, which is used to transform Autogluon trained TabularPredictor object into leaderboard and dictionaries that can be used to build the Rashomon Set.  </p> Parameters <p> predictor : TabularPredictor      \u2003   Trained TabularPredictor AutoGluon object.  test_data : TabularDataset  \u2003   Test data for analysis in a TabularDataset format.  df_name : str  \u2003 The name of the dataset to be used while saving converted results.  feature_imp_needed : bool, default = True  \u2003 Whether to obtain feature importances from trained models or not. Can result in a longer runtime of .convert() method.  </p> Attributes <p> predictor : TabularPredictor  predictor parameter  test_data : TabularDataset  \u2003   test_data parameter  df_name : str  \u2003 df_name parameter  feature_imp_needed : bool  \u2003 feature_imp_needed parameter  metrics : list  \u2003 list of all evaluation metrics extracted from AutoGluon -  multiclass or binary based on the predictor's problem_type attribute.  leaderboard : pd.DataFrame  \u2003 leaderboard created with the create_leaderboard() method consisting only of the selected evaluation metrics.  </p> Methods <p></p> create_leaderboard() <p>\u2003 Creates a dataframe with all trained models and their evaluation metrics values obtained from predictor.  Returns : <code>leaderboard</code> : pd.DataFrame  </p> create_predictions_dict() <p>\u2003 Creates a dictionary with model names as keys and their class prediction vectors as values.  Returns : <code>predictions_dict</code> : dict[str, pd.Series] </p> create_proba_predictions_dict() <p>\u2003 Creates a dictionary with model names as keys and their class probabilities predictions as values.  Returns : <code>proba_predictions_dict</code> : dict[str, pd.Dataframe(n_observations, n_classes)] </p> create_feature_importance_dict() <p>\u2003 Creates a dictionary where the keys are model names and the values are lists of features sorted in descending order of importance, so that the most important feature appears first in each list.   Returns : <code>feature_importance_dict</code> : dict[str, list] </p> extract_target_column() <p>\u2003 Extracts the target column from the test dataset using the .label attribute of the TabularPredictor object.  Returns : <code>y_true</code> : pd.DataFrame </p> save_results(<code>leaderboard, predictions_dict, proba_predictions_dict, feature_importance_dict, y_true, saving_path</code>) <p>\u2003Method for saving results from creating a leaderboard and all dictionaries on disk in .csv and .pickle formats.   Parameters : <code>leaderboard</code> : pd.DataFrame  created_ leaderboard to be saved as csv <code>predictions_dict</code> : dict  created predictions dict to be saved as pickle <code>proba_predictions_dict</code> : dict   created proba predictions dict to be saved as pickle <code>feature_importance_dict</code> : dict   created feature importance dict to be saved as pickle <code>y_true</code> : pd.DataFrame   extracted target column to be saved as a csv <code>saving_path</code> : Path   path to a directory where results should be saved, if not specified the default of timestamp + df_name is used to create a new directory </p> convert(<code>saving_path</code>) <p>\u2003 Final method used to create leaderboard, predictions_dict, proba_predictions dict and feature_importance_dict and save the results using save_results() method. If feature_imp_needed parameter is False, feature_importance_dict is not created and the method returns NaN as its value.   Parameters : <code>saving_path</code> : Path  path to a directory where results should be saved, if not specified the default of timestamp + df_name is used to create a new directory Returns : <code>leaderboard</code> : pd.DataFrame  created_ leaderboard using create_leaderboard() method <code>predictions_dict</code> : dict[str, pd.Series]  created predictions dict created using create_predictions_dict() method <code>proba_predictions_dict</code> : dict[str, pd.DataFrame]   created proba predictions dict created using create_proba_predictions_dict() method <code>feature_importance_dict</code> : dict[str, list]   created feature importance dict created using create_feature_importance_dict() method <code>y_true</code> : pd.DataFrame   extracted target column using extract_target_column() method </p>"},{"location":"api/h2o_converter/","title":"H2o converter","text":"<p>back</p>"},{"location":"api/h2o_converter/#h2oconverter","title":"H2OConverter","text":"class rashomon_analysis.converters.H2OConverter(models_directory, test_data, target_column, df_name, feature_imp_needed=True)  <p> This is a subclass of the Converter abstract class, wich is used to transform H2O trained models into leaderboard and dictionaries that can be used to build the Rashomon Set. Uses H2O framework that expects Java to be installed.  </p> Parameters <p> models_directory : Path      \u2003   Path object navigating to the directory with saved models from H2O framework.  test_data : H2OFrame  \u2003   Test data for analysis in a H2OFrame format.  target_column : str  \u2003   Name of the target column. Used to determine the task type - binary or multiclass classification.  df_name : str  \u2003 The name of the dataset to be used while saving converted results.  feature_imp_needed : bool, default = True  \u2003 Whether to obtain feature importances from trained models or not. Can result in a longer runtime of .convert() method.  </p> Attributes <p> task_type : str  \u2003 Name of the task type - 'binary' or 'multiclass' indicating whether models were trained for binary or multiclass classification purposes. Obtained from determine_task_type() method.  loaded_models : list  \u2003 List containing all models that were loaded from the given models_directory. Obtained from load_all_models() method.  prediction_frames_dict : dict  \u2003 A dictionary containing loaded models as keys and pd.DataFrames containing predcitions returned by H2O models as values. Obtained from get_prediction_frames_dict() method.  class_prediction_dict : dict  \u2003 A dictionary containing loaded models as keys and pd.Series containing class predcitions obtained from H2O models as values in pd.Series format. Calculated by get_class_predictions_dict() method.  proba_prediction_dict : dict  \u2003 A dictionary containing loaded models as keys and pd.Series containing class probabilities predcitions obtained from H2O models as values in pd.DataFrame format. Calculated by get_proba_predictions_dict() method.  classes : list  \u2003 List of all classes found for a given task. Obtained from the test_data.   MULTICLASS_METRICS_DICT : dict  \u2003 A dictionary containing typical multiclasss classification evaluation metrics name and their implementation functions from sklearn.  BINARY_METRICS_DICT : dict  \u2003 A dictionary containing typical binary classification evaluation metrics name and their implementation functions from sklearn.  models_directory : Path      \u2003   models_directory parameter value  test_data : H2OFrame  \u2003   test_data parameter value  target_column : str  \u2003  target_column parameter value  df_name : str  \u2003 df_name parameter value  feature_imp_needed : bool, default = True  \u2003 feture_imp_needed parameter value  </p> Methods <p></p> determine_task_type() <p>\u2003 Returns whether the task type for a given dataset is binary or multiclass classification based on target_column and test_data parameters. If another task type is determined, the method throws ValueError.   Returns : <code>task_type</code> : str  </p> load_all_models() <p>\u2003 Loads all H2O models objects from a given model_directory and saves them in a list format.   Returns : <code>loaded_models</code> : list  </p> get_prediction_frames() <p>\u2003 Used to obtain predictions returned by all H2O models and save them in a dictionary format with model names as keys and predictions dataframes as values.   Returns : <code>predictions</code> : dict[str, pd.DataFrame]  </p> get_class_predictions_dict() <p>\u2003 Used to obtain class predictions returned by all H2O models and save them in a dictionary format with model names as keys and predictions in a pd.Series format as values.   Returns : <code>class_predictions_dict</code> : dict[str, pd.Series]  </p> get_proba_predictions_dict() <p>\u2003 Used to obtain class probabilities predictions returned by all H2O models and save them in a dictionary format with model names as keys and probability predictions in a pd.DataFrame format as values.   Returns : <code>proba_predictions_dict</code> : dict[str, pd.DataFrame]  </p> get_feature_importance_dict() <p>\u2003 Used to obtain feature importances from all H2O models and save them in a dictionary format with model names as keys and features sorted in a descending order based on their importance as values.  Returns : <code>feature_importance_dict</code> : dict[str, list]  </p> extract_target_column() <p>\u2003 Used to extract the target column from the test dataset.   Returns : <code>y_true</code> : pd.DataFrame  </p> calculate_multiclass_metrics() <p>\u2003 Calculates multiclass classification evaluation metrics from MULTICLASS_METRICS_DICT for all loaded models based on their prediction vectors and target column. Calculated results are stored in a pd.DataFrame object containing all evaluation metric scores for each model.  Returns : <code>metrics_df</code> : pd.DataFrame  </p> calculate_binary_metrics() <p>\u2003 Calculates binary classification evaluation metrics from BINARY_METRICS_DICT for all loaded models based on their prediction vectors and target column. Calculated results are stored in a pd.DataFrame object containing all evaluation metric scores for each model.  Returns : <code>metrics_df</code> : pd.DataFrame  </p> save_results(<code>leaderboard, predictions_dict, proba_predictions_dict, feature_importance_dict, y_true, saving_path</code>) <p>\u2003Method for saving results from creating a leaderboard and all dictionaries on disk in .csv and .pickle formats.   Parameters : <code>leaderboard</code>: pd.DataFrame  created leaderboard to be saved as csv <code>predictions_dict</code> : dict  created class predictions dict to be saved as pickle <code>proba_predictions_dict </code>: dict   created proba predictions dict to be saved as pickle <code>feature_importance_dict</code> : dict   created feature importance dict to be saved as pickle <code>y_true</code> : pd.DataFrame   extracted target column to be saved as a csv <code>saving_path</code> : Path   path to a directory where the results should be saved, if not specified the default of timestamp + df_name is used to create a new directory </p> convert(<code>saving_path</code>) <p>\u2003 Final method used to create and save leaderboard created in calculate_binary_metrics() or calculate_multiclass_metrics() based on the task type, class_predictions_dict, proba_predictions_dict and feature_importance_dict created in the corresponding methods. If feature_imp_needed parameter is False, feature_importance_dict is not created and the method returns NaN as its value.  Parameters : <code>saving_path</code> : Path   path to a directory where the results should be saved, if not specified the default of timestamp + df_name is used to create a new directory Returns : <code>leaderboard</code> : pd.DataFrame  <code>class_predictions_dict</code> : dict[str, pd.Series]  <code>proba_predictions_dict</code> : dict[str, pd.DataFrame]  <code>feature_importance_dict</code> : dict[str, list]  <code>y_true</code> : pd.DataFrame  </p>"},{"location":"api/intersection_visualizer/","title":"Intersection visualizer","text":"<p>back</p>"},{"location":"api/intersection_visualizer/#intersectionvisualizer","title":"IntersectionVisualizer","text":"class rashomon_analysis.visualizers.IntersectionVisualizer(rashomon_intersection, y_true)  <p> This class is responsible for creating visualizations and descriptions of the key properties and metrics related to the Rashomon Intersection. Is a subclass of the Visualizer class.</p> <p>The main library used for the visualizations is Plotly. </p> <p></p> Parameters <p> rashomon_intersection : RashomonIntersection      \u2003   created RashomonIntersection object for analysis.      y_true : pd.DataFrame      \u2003   true class labels for every observation in the test dataset. (Returned by converters)     </p> <p> </p> Attributes <p> rashomon_set : RashomonIntersection       \u2003 The rashomon_intersection value. Overwrites the rashomon_set attribute of the Visualizer class.      y_true : pd.DataFrame       \u2003  y_true parameter value      binary_methods : list[str]      \u2003  list of methods names, which create plots for binary task type analysis.       binary_methods : list[str]      \u2003  list of methods names, which create plots for multiclass task type analysis/      </p> Methods <p> Note:  As this is a subclass of the Visualizer class, all methods, which are not specified in this section remain the same as in :</p> <p>Visualizer documentation </p> base_metric_return() <p>\u2003 Overrides the base_metric_return() method from Visualizer class. Returns the list of metrics specified in the RashomonIntersection object to be analyzed. Returns the metrics and an empty plot. Returns : <code>empty_plot</code> : go.Figure  <code>base_metrics</code> : str  </p> weighted_method_return() <p>\u2003 Additional method used only for the Rashomon Intersection analysis. Returns the name of the <code>weighted_sum_method</code> specified in the RashomonIntersection object to be analyzed. Returns the method name and an empty plot. Returns : <code>empty_plot</code> : go.Figure  <code>weighted_sum_method</code> : str  </p> set_size_indicator() <p>\u2003 Overrides the set_size_indicator() from the Visualizer class. Creates the gauge plot representing the fracton of models from the leaderboard that are included in the Rashomon Intersection. Returns the plot with its description.   Returns : <code>gauge_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> ambiguity_vs_epsilon() <p>\u2003 Overrides the ambigutiy_vs_epsilon() method from the Visualizer class. Creates the Line chart of the possible <code>ambiguity</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding ambiguities. The actual ambiguity value for the given Rashomon Intersection is highlighted with the different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> proba_ambiguity_vs_epsilon() <p>\u2003 Overrides the proba_ambigutiy_vs_epsilon() method from the Visualizer class. Creates the Line chart of the possible <code>probabilistic_ambiguity</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding ambiguities. The actual probabilistic_ambiguity value for the given Rashomon Intersection is highlighted with the different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> discrepancy_vs_epsilon() <p>\u2003  Overrides the discrepancy_vs_epsilon() method from the Visualizer class. Creates the Line chart of the possible <code>discrepancy</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding discrepancies. The actual discrepancy value for the given Rashomon Intersection is highlighted with the different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> prba_discrepancy_vs_epsilon() <p>\u2003  Overrides the proba_discrepancy_vs_epsilon() method from the Visualizer class. Creates the Line chart of the possible <code>probabilistic_discrepancy</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding discrepancies. The actual probabilistic_discrepancy value for the given Rashomon Intersection is highlighted with the different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> rashomon_ratio_vs_epsilon() <p>\u2003  Overrides the rashomon_ratio_vs_epsilon() method from the Visualizer class. Creates a Line chart of the possible <code>rashomon_ratio</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding rashomon_ratios. The actual rashomon_ratio value for the given Rashomon Intersection is highlighted with a different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> pattern_rashomon_ratio_vs_epsilon() <p>\u2003  Overwrites the pattern_rashomon_ratio_vs_epsilon() method from the Visualizer class. Creates a Line chart of the possible <code>pattern_rashomon_ratio</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding pattern_rashomon_ratios. The actual pattern_rashomon_ratio value for the given Rashomon Intersection is highlighted with a different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> generate_rashomon_set_table() <p>\u2003 Overrides the generate_rashomon_set_table() method from the Visualizer class. Creates a table with the names of models included in the intersection alongside with their scores for both specified evaluation metrics. Returns the table and the description containing information about the <code>base_model</code> and selected <code>metrics</code>.  Returns : <code>table</code> : go.Figure  <code>table_descr</code> : str  </p> generate_gauge_for_metrics() <p>\u2003 Creates gauge plots illustrating how many models from the separate Rashomon Sets for each metric are included in the Rashomon Intersection. Returns the plot with its description.  Returns : <code>gauge_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> plot_venn_diagram() <p>\u2003 Creates the Venn diagram illustrating models, which are included in the separate Rashomon Sets for each metric, as well as the intersection of those two sets. Returns the plot with its description.  Returns : <code>venn_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> pareto_front_plot() <p>\u2003 Creates the scatterplot with the x and y axes representing two evaluation metrics, and points representing models from the entire leaderboard. Models included in the Pareto Front are highlighted in a different color. To read more about the Parto Front in multiobjective optimization visit: </p> <p>Multi-Objective Hyperparameter Optimization in ML.      Returns : <code>scatter_plot</code> : go.Figure  <code>plot_descr</code> : str  </p>"},{"location":"api/pipeline_abstract/","title":"Pipeline abstract","text":"<p>back</p>"},{"location":"api/pipeline_abstract/#builder-abstract-class","title":"Builder - abstract class","text":"class rashomon_analysis.pipelines.Builder <p> This class is an abstract class asserting all pipeline classes have the same set of obligatory methods.</p> <p> </p> Methods <p> Note:  All methods are decorated as <code>@abstractmethod</code> and must be implemented in every child class.  </p> preview_rashomon() <p>\u2003 Method for presenting all trained models and their scores (leaderboard) and the Rashomon Set size plot to help the user choose the right epsilon parameter value.   </p> set_epsilon() <p>\u2003 Method for setting the value of <code>epsilon</code> parameter. Has to be completed before the <code>build()</code> method.   </p> build() <p>\u2003 Primary method of all pipelines. Creates all the necessary objects from given arguments, returns them and launches the Streamlit dashboard in the background if launch_dashboard parametr is set to True.  </p> dashboard_close() <p>\u2003 Method used to close the Streamlit dashboard launched in the <code>build()</code> method. Kills all the Streamlit processes to avoid zombie process running in the background.  </p>"},{"location":"api/pipeline_converter_intersection/","title":"Pipeline converter intersection","text":"<p>back</p>"},{"location":"api/pipeline_converter_intersection/#buildintersectionfromconverted","title":"BuildIntersectionFromConverted","text":"class rashomon_analysis.pipelines.pipelines_from_converters.BuildIntersectionFromConverted(converter_results_path, metrics, custom_weights, weighted_sum_method, delta)  <p> This is a subclass of the <code>Builder</code> abctract class, which provides pipeline for creating and exploring the Rashomon Intersection created from parameters in a format propsed by the convert() method of converter classes.   Example usage of this pipeline can be found at <code>demo_notebooks/converters_pipeline.ipynb</code>.  </p> Parameters <p> converter_results_path : Path       \u2003  Path to a folder where all necessary files are stored. Obligatory files to be included in this folder are:          \u2003 1. leaderboard.csv : file containing all trained models and their evaluation metrics scores.     \u2003 2. y_true.csv: target column from test dataset.     \u2003 3. predictions_dict.pkl : dictionary with model names as keys and their class prediction vectors as values.     \u2003 4. proba_predictions.pkl : dictionary with model names as keys and their probabilities predictions as values.     \u2003 5. (optional) feature_importance_dict.pkl : dictionary with model names as keys and their features sorted descending by their feature importance as values.       If you do not have the necessary files, please visit documentation of the pipelines accepting raw models as input:</p> <p>H2O pipeline AutoGluon pipeline metrics : list      \u2003 Evaluation metrics to be used as the <code>metrics</code> list while creating the Rashomon Intersection.      custom_weights : list      \u2003 List containing two values of custom weights assigned by the user to every evaluation metric present in the <code>metrics</code> list. Can be set only while using the <code>'custom_weights'</code> weighted sum method. Default is None.      weighted_sum_method : str      \u2003 Name of the <code>weighted_sum_method</code> to be used while selecting the <code>base_model</code> in the Rashomon Intersection. Possible options are 'entropy','critic', 'custom_weights'. Default is 'entropy'.      delta : float       \u2003 Delta parameter for probabilistic ambiguity and discrepancy (used only for binary task type).       \u2003 If not specified the default value of 0.1 will be used.  </p> BuildRashomonFromConverted Pipeline \u2013 Key Steps <p></p> <ol> <li>Initialization (<code>__init__</code>) \u2013 Evaluation of the given arguments. If the provided folder contains all necessary files the Pipeline is initialized.</li> <li>Preview Rashomon (<code>preview_rashomon()</code>) \u2013 Visualize leaderboard and Rashomon Intersection sizes to guide epsilon selection.</li> <li>Set Epsilon (<code>set_epsilon()</code>) \u2013 Set epsilon parameter value to be used when creating the Rashomon Intersection.</li> <li>Build Pipeline (<code>build()</code>) \u2013 Create RashomonIntersection and IntersectionVisualizer objects and launch the Streamlit dashboard in the background.</li> <li>Interactive Analysis \u2013 Explore plots via returned IntersectionVisualizer object or the dashboard.</li> <li>Close Dashboard (<code>dashboard_close()</code>) \u2013 Stop Streamlit processes.</li> </ol> Methods <p></p> preview_rashomon() <p>\u2003 Method illustrating the leaderboard and the plot with all possible epsilon values and the Rashomon Intersection sizes for different epsilon values.  \u2003 Should be called to guide the selection of an appropriate epsilon threshold.  </p> visualize_rashomon_set_volume() <p>\u2003 Method for visualising Rashomon Intersection size depending on different epsilon values.  </p> set_epsilon(<code>epsilon</code>) <p>\u2003 Sets the epsilon parameter value to be used when constructing the Rashomon Intersection object.  Epsilon value must be set before calling build() method.  Parameters : <code>epsilon</code> : float  </p> build(<code>lanuch_dashboard</code>) <p>\u2003Builds the Rashomon Intersection pipeline from converted files found in the given directory and other provided parameters.  \u2003 Creates Rashomon Intersection object and IntersectionVisualizer object from user's input and launches a Streamlit dashboard in a subprocess for interactive visualization if <code>launch_dashboard</code> parameter is set to True.   \u2003 This method performs the following steps:</p> <ul> <li>Validates that the epsilon threshold has been set using <code>set_epsilon()</code> method.</li> <li>Creates the <code>RashomonIntersection</code> object based on the leaderboard, predictions, probability predictions, feature importances, metrics, methods to select base model, and epsilon threshold.  <li>Initializes the <code>IntersectionVisualizer</code> object for interactive analysis of the Rashomon Intersection.  Individual plots can later be generated directly from the <code>IntersectionVisualizer</code> object.</li> <li>If <code>launch_dashboard</code> is set to True (default) it generates plots for analysis depending on the task type (binary or multiclass), and stores them temporarily with their descriptions for the Streamlit dashboard. It closes any previous Streamlit processes to avoid conflicts.</li> <li>If <code>launch_dashboard</code> is set to True (default) it launches the Streamlit dashboard in a subprocess on the local machine (localhost), allowing interactive exploration of the Rashomon Intersection properties without blocking the main workflow.</li> <p> Returns : <code>rashomon_intersection</code> : RashomonIntersection  <code>visualizer</code> : IntersectionVisualizer  </p> dashboard_close() <p>\u2003 Method for stopping all Streamlit processes and closing the dashboard. \u2003 Note: Always call this method after finishing the analysis to ensure the dashboard is properly closed.</p> <p></p>"},{"location":"api/pipeline_converter_rashomon/","title":"Pipeline converter rashomon","text":"<p>back</p>"},{"location":"api/pipeline_converter_rashomon/#buildrashomonfromconverted","title":"BuildRashomonFromConverted","text":"class rashomon_analysis.pipelines.pipelines_from_converters.BuildRashomonFromConverted(converter_results_path, base_metric, delta)  <p> This is a subclass of <code>Builder</code> abstract class, which provides pipeline for creating and exploring the Rashomon Set created from parameters in a format propsed by the convert() method of converter classes.   Example usage of this pipeline can be found at <code>demo_notebooks/converters_pipeline.ipynb</code>.  </p> Parameters <p> converter_results_path : Path       \u2003  Path to a folder where all necessary files are stored. Obligatory files to be included in this folder are:          \u2003 1. leaderboard.csv : file containing all trained models and their evaluation metrics scores.     \u2003 2. y_true.csv: target column from test dataset.     \u2003 3. predictions_dict.pkl : dictionary with model names as keys and their class prediction vectors as values.     \u2003 4. proba_predictions.pkl : dictionary with model names as keys and their probabilities predictions as values.     \u2003 5. (optional) feature_importance_dict.pkl : dictionary with model names as keys and their features sorted descending by their feature importance as values.       If you do not have the necessary files, please visit documentation of the pipelines accepting raw models as input:</p> <p>H2O pipeline AutoGluon pipeline base_metric : str      \u2003 Evaluation metric to be used as the <code>base_metric</code> while creating the Rashomon Set.      delta : float       \u2003 Delta parameter for probabilistic ambiguity and discrepancy (used only for binary task type).       \u2003 If not specified the default value of 0.1 will be used.  </p> BuildRashomonFromConverted Pipeline \u2013 Key Steps <p></p> <ol> <li>Initialization (<code>__init__</code>) \u2013 Evaluation of the given arguments. If the provided folder contains all necessary files the Pipeline is initialized.</li> <li>Preview Rashomon (<code>preview_rashomon()</code>) \u2013 Visualize leaderboard and Rashomon Set sizes to guide epsilon selection.</li> <li>Set Epsilon (<code>set_epsilon()</code>) \u2013 Set epsilon parameter value to be used when creating the Rashomon Set.</li> <li>Build Pipeline (<code>build()</code>) \u2013 Create RashomonSet and Visualizer objects and launch the Streamlit dashboard in the background.</li> <li>Interactive Analysis \u2013 Explore plots via returned Visualizer object or the dashboard.</li> <li>Close Dashboard (<code>dashboard_close()</code>) \u2013 Stop Streamlit processes.</li> </ol> Methods <p></p> preview_rashomon() <p>\u2003 Method presenting the leaderboard and the plot with all possible epsilon values and the corresponding Rashomon Set sizes.  \u2003 Should be called to guide the selection of an appropriate epsilon threshold.  </p> visualize_rashomon_set_volume() <p>\u2003 Method for visualising Rashomon Set size depending on different epsilon values.  </p> set_epsilon(<code>epsilon</code>) <p>\u2003 Sets the epsilon parameter value to be used when constructing the Rashomon Set object.  Epsilon value must be set before calling build() method.  Parameters : <code>epsilon</code> : float  </p> build(<code>lanuch_dashboard</code>) <p>\u2003Builds the Rashomon Set pipeline from converted files found in the given directory and other provided parameters.  \u2003 Creates the Rashomon Set object and Visualizer object from user's input and launches a Streamlit dashboard in a subprocess for interactive visualization.   \u2003 This method performs the following steps:</p> <ul> <li>Validates that the epsilon threshold has been set using <code>set_epsilon()</code> method.</li> <li>Creates the <code>RashomonSet</code> object based on the leaderboard, predictions, probability predictions, feature importances, metrics, methods to select base model, and epsilon threshold.  <li>Initializes the <code>Visualizer</code> object for interactive analysis of the Rashomon Set.  Individual plots can later be generated directly from the <code>Visualizer</code> object.</li> <li>If <code>launch_dashboard</code> is set to True (default) it generates plots for analysis depending on the task type (binary or multiclass), and stores them temporarily with their descriptions for the Streamlit dashboard. It closes any previous Streamlit processes to avoid conflicts.</li> <li>If <code>launch_dashboard</code> is set to True (default) it launches the Streamlit dashboard in a subprocess on the local machine (localhost), allowing interactive exploration of the Rashomon Set properties without blocking the main workflow.</li> <p> Returns : <code>rashomon_set</code> : RashomonSet  <code>visualizer</code> : Visualizer  </p> dashboard_close() <p>\u2003 Method for stopping all Streamlit processes and closing the dashboard. \u2003 Note: Always call this method after finishing the analysis to ensure the dashboard is properly closed.</p> <p></p>"},{"location":"api/pipeline_user_input_intersection_H2O/","title":"pipeline user input intersection H2O","text":"<p>back</p>"},{"location":"api/pipeline_user_input_intersection_H2O/#buildrashomonintersectionh2o","title":"BuildRashomonIntersectionH2O","text":"class rashomon_analysis.pipelines.pipelines_user_input.BuildRashomonIntersectionH2O(models_directory, test_data, target_column, df_name, metrics, custom_weights, weighted_sum_method, delta, feature_imp_needed, converter_results_directory)  <p> This is a subclass of a <code>Builder</code> abstract class, which provides pipeline for creating and exploring the Rashomon Intersection from user-provided models from H2O framework.   Example usage of this pipeline can be found at <code>demo_notebooks/H2O_pipeline.ipynb</code>.  </p> Parameters <p> models_directory : Path       \u2003  Path to a folder where all models saved from H2O output are stored.      test_data : h2o.H2OFrame      \u2003 Test dataset for evaluation, must be converted to <code>h20.H2OFrame</code> object.      \u2003 Note 1:  It is crucial to stratify your data while performing the train test split, so that there are no classes in test data that were not present in the train set.       \u2003 Note 2 (for binary classification task):  It is crucial to convert binary target column labels into 0 for negative class and 1 for positive class. Otherwise, some evaluation metrics may not be calculated correctly.  target_column : str      \u2003 Name of the target column for the classification task. Used to determine whether the task type is binary or multiclass.      df_name : str      \u2003 Name of the dataset used for saving the data generated by <code>H2O_Converter</code> output.      metrics : list      \u2003 List of two metrics to be used in the intersection calculation.      weighted_sum_method : str      \u2003 Specifies the method for selecting the base model for the Rashomon Intersection. Options are:     <ul> <li><code>None</code> or <code>'entropy'</code> (default): selects the base model using an entropy-based method.</li> <li><code>'critic'</code>: selects the base model using a critic-based method.</li> <li><code>'custom_weights'</code>: selects the base model using weights provided by the user.</li> </ul> custom_weights : list      \u2003 Specifies the weights for base model selection when <code>weighted_sum_method</code> is set to <code>'custom_weights'</code>. User must specify weights in 2-element list.      delta : float       \u2003 Delta parameter for probabilistic ambiguity and discrepancy (used only for binary task type).       \u2003 If not specified the default value of 0.1 will be used.      feature_imp_needed : bool       \u2003 Boolean value specifying whether feature importance computation is required.       \u2003 Defaults to True; set to False to skip feature importance computation for faster execution.       converter_results_directory : Path       \u2003 Path to the directory where the converter outputs will be saved.       \u2003 If <code>None</code>, a default directory <code>converter_results/df_name_timestamp</code> will be automatically created in the same directory as <code>models_directory</code>, where timestamp corresponds to the creation time of the converted outputs.        </p> BuildRashomonIntersectionH2O Pipeline \u2013 Key Steps <p></p> <ol> <li>Initialization (<code>__init__</code>) \u2013 Convert H2O models to format for Rashomon Intersection analysis.</li> <li>Preview Rashomon (<code>preview_rashomon()</code>) \u2013 Visualize leaderboard and Rashomon Intersection sizes to guide epsilon selection.</li> <li>Set Epsilon (<code>set_epsilon()</code>) \u2013 Set epsilon parameter value to be used when creating Rashomon Intersection.</li> <li>Build Pipeline (<code>build()</code>) \u2013 Create RashomonIntersection, IntersectionVisualizer objects and launch the Streamlit dashboard.</li> <li>Interactive Analysis \u2013 Explore plots via IntersectionVisualizer object or the dashboard.</li> <li>Close Dashboard (<code>dashboard_close()</code>) \u2013 Stop Streamlit processes.</li> </ol> <p></p> Pipeline Initialization <p> \u2003 During initialization, the pipeline converts the user's input models into the internal format specified by <code>H2O_Converter</code> class object.   \u2003 All processed results are stored in the specified directory or in a default directory created based on the dataset name and timestamp (see converter_results_directory parameter).  </p> Methods <p></p> preview_rashomon() <p>\u2003 Method illustrating the leaderboard and the plot with all possible epsilon values and the Rashomon Intersection sizes for different epsilon values.  \u2003 Should be called to guide the selection of an appropriate epsilon threshold.  </p> visualize_rashomon_set_volume() <p>\u2003 Method for visualising Rashomon Intersection size depending on different epsilon values.  </p> set_epsilon(<code>epsilon</code>) <p>\u2003 Sets the epsilon parameter value to be used when constructing the Rashomon Intersection object.  Epsilon value must be set before calling build() method.  Parameters : <code>epsilon</code> : float  </p> build(<code>launch_dashboard</code>) <p>\u2003Builds the Rashomon Intersection pipeline from H2O models.  \u2003 Creates Rashomon Intersection object and Intersection Visualizer object from user's input and launches a Streamlit dashboard in a subprocess for interactive visualization.   \u2003 This method performs the following steps:</p> <ul> <li>Validates that the epsilon threshold has been set using <code>set_epsilon()</code> method.</li> <li>Creates the <code>RashomonIntersection</code> object based on the leaderboard, predictions, probability predictions, feature importances, metrics, methods to select base model, and epsilon threshold.  All inputs required to build the Rashomon Intersection object are extracted from the user's data, which is processed and converted during the pipeline initialization.</li> <li>Initializes the <code>IntersectionVisualizer</code> object for interactive analysis of the Rashomon Intersection.  Individual plots can later be generated directly from the <code>IntersectionVisualizer</code> object.</li> <li>If <code>launch_dashboard</code> is set to True (default) it generates plots for analysis depending on the task type (binary or multiclass), and stores them temporarily with their descriptions for the Streamlit dashboard. It closes any previous Streamlit processes to avoid conflicts.</li> <li>If <code>launch_dashboard</code> is set to True (default) it launches the Streamlit dashboard in a subprocess on the local machine (localhost), allowing interactive exploration of the Rashomon Intersection properties without blocking the main workflow.</li> </ul> <p> Returns : <code>rashomon_set</code> : RashomonIntersection  <code>visualizer</code> : IntersectionVisualizer  </p> dashboard_close() <p>\u2003 Method for stopping all Streamlit processes and closing the dashboard. \u2003 Note: Always call this method after finishing the analysis to ensure the dashboard is properly closed.</p> <p></p>"},{"location":"api/pipeline_user_input_rashomon_H2O/","title":"pipeline user input rashomon H2O","text":"<p>back</p>"},{"location":"api/pipeline_user_input_rashomon_H2O/#buildrashomonh2o","title":"BuildRashomonH2O","text":"class rashomon_analysis.pipelines.pipelines_user_input.BuildRashomonH2O(models_directory, test_data, target_column, df_name, base_metric, delta, feature_imp_needed, converter_results_directory)  <p> This is a subclass of a <code>Builder</code> abstract class, which provides pipeline for creating and exploring the Rashomon Set from user-provided models from H2O framework.   Example usage of this pipeline can be found at <code>demo_notebooks/H2O_pipeline.ipynb</code>.  </p> Parameters <p> models_directory : Path       \u2003  Path to a folder where all models saved from H2O output are stored.      test_data : h2o.H2OFrame      \u2003 Test dataset for evaluation, must be converted to <code>h20.H2OFrame</code> object.      \u2003 Note 1:  It is crucial to stratify your data while performing the train test split, so that there are no classes in test data that were not present in the train set.       \u2003 Note 2 (for binary classification task):  It is crucial to convert binary target column labels into 0 for negative class and 1 for positive class. Otherwise, some evaluation metrics may not be calculated correctly.  target_column : str      \u2003 Name of the target column for the classification task. Used to determine whether the task type is binary or multiclass.      df_name : str      \u2003 Name of the dataset used for saving the data generated by <code>H2O_Converter</code> output.      base_metric : str      \u2003 Evaluation metric to be used as a primary value for sorting model performances and constructing the Rashomon Set.      delta : float       \u2003 Delta parameter for probabilistic ambiguity and discrepancy (used only for binary task type).       \u2003 If not specified the default value of 0.1 will be used.      feature_imp_needed : bool       \u2003 Boolean value specifying whether feature importance computation is required.       \u2003 Defaults to True; set to False to skip feature importance computation for faster execution.       converter_results_directory : Path       \u2003 Path to the directory where the converter outputs will be saved.       \u2003 If <code>None</code>, a default directory <code>converter_results/df_name_timestamp</code> will be automatically created in the same directory as <code>models_directory</code>, where timestamp corresponds to the creation time of the converted outputs.        </p> BuildRashomonH2O Pipeline \u2013 Key Steps <p></p> <ol> <li>Initialization (<code>__init__</code>) \u2013 Convert H2O models to format for Rashomon Set analysis.</li> <li>Preview Rashomon (<code>preview_rashomon()</code>) \u2013 Visualize leaderboard and Rashomon Set sizes to guide epsilon selection.</li> <li>Set Epsilon (<code>set_epsilon()</code>) \u2013 Set epsilon parameter value to be used when creating Rashomon Set.</li> <li>Build Pipeline (<code>build()</code>) \u2013 Create RashomonSet, Visualizer objects and launch the Streamlit dashboard.</li> <li>Interactive Analysis \u2013 Explore plots via Visualizer object or the dashboard.</li> <li>Close Dashboard (<code>dashboard_close()</code>) \u2013 Stop Streamlit processes.</li> </ol> <p></p> Pipeline Initialization <p> \u2003 During initialization, the pipeline converts the user's input models into the internal format specified by <code>H2O_Converter</code> class object.   \u2003 All processed results are stored in the specified directory or in a default directory created based on the dataset name and timestamp (see converter_results_directory parameter).   </p> Methods <p></p> preview_rashomon() <p>\u2003 Method illustrating the leaderboard and the plot with all possible epsilon values and the Rashomon Set sizes for different epsilon values.  \u2003 Should be called to guide the selection of an appropriate epsilon threshold.  </p> visualize_rashomon_set_volume() <p>\u2003 Method for visualising Rashomon set size depending on different epsilon values.  </p> set_epsilon(<code>epsilon</code>) <p>\u2003 Sets the epsilon parameter value to be used when constructing the Rashomon Set object.  Epsilon value must be set before calling build() method.  Parameters : <code>epsilon</code> : float  </p> build(<code>launch_dashboard</code>) <p>\u2003Builds the Rashomon Set pipeline from H2O models.  \u2003 Creates Rashomon Set object and Visualizer object from user's input and launches a Streamlit dashboard in a subprocess for interactive visualization.   \u2003 This method performs the following steps:</p> <ul> <li>Validates that the epsilon threshold has been set using <code>set_epsilon()</code> method.</li> <li>Creates the <code>RashomonSet</code> object based on the leaderboard, predictions, probability predictions, feature importances, base metric, and epsilon threshold.  All inputs required to build the Rashomon Set object are extracted from the user's data, which is processed and converted during the pipeline initialization.</li> <li>Initializes the <code>Visualizer</code> object for interactive analysis of the Rashomon Set.  Individual plots can later be generated directly from the <code>Visualizer</code> object.</li> <li>If <code>launch_dashboard</code> is set to True (default) it generates plots for analysis depending on the task type (binary or multiclass), and stores them temporarily with their descriptions for the Streamlit dashboard. It closes any previous Streamlit processes to avoid conflicts.</li> <li>If <code>launch_dashboard</code> is set to True (default) launches the Streamlit dashboard in a subprocess on the local machine (localhost), allowing interactive exploration of the Rashomon Set properties without blocking the main workflow.</li> </ul> <p> Returns : <code>rashomon_set</code> : RashomonSet  <code>visualizer</code> : Visualizer  </p> dashboard_close() <p>\u2003 Method for stopping all Streamlit processes and closing the dashboard. \u2003 Note: Always call this method after finishing the analysis to ensure the dashboard is properly closed.</p> <p></p>"},{"location":"api/pipeline_user_input_rashomon_autogluon/","title":"Pipeline user input rashomon autogluon","text":"<p>back</p>"},{"location":"api/pipeline_user_input_rashomon_autogluon/#buildrashomonautogluon","title":"BuildRashomonAutogluon","text":"class rashomon_analysis.pipelines.pipelines_user_input.BuildRashomonAutogluon(predictor, test_data, df_name, base_metric, delta, feature_imp_needed, converter_results_directory)  <p> This is a subclass of a <code>Builder</code> abstract class, which provides pipeline for creating and exploring the Rashomon Set from user-provided models from AutoGluon framework.   Example usage of this pipeline can be found at <code>demo_notebooks/AutoGluon_pipeline.ipynb</code>.  </p> Parameters <p> predictor : TabularPredictor       \u2003 Trained AutoGluon <code>TabularPredictor</code> object containing all models and training results.      test_data : TabularDataset      \u2003 Test dataset for evaluation, must be converted to <code>TabularDataset</code> object.      \u2003 Note 1:  It is crucial to stratify your data while performing the train test split, so that there are no classes in test data that were not present in the train set.       \u2003 Note 2 (for binary classification task):  It is crucial to convert binary target column labels into 0 for negative class and 1 for positive class. Otherwise, some evaluation metrics may not be calculated correctly.  df_name : str      \u2003 Name of the dataset used for saving the data generated by <code>PredictorConverter</code> output.      base_metric : str      \u2003 Evaluation metric to be used as a primary value for sorting model performances and constructing the Rashomon Set.      delta : float       \u2003 Delta parameter for probabilistic ambiguity and discrepancy (used only for binary task type).       \u2003 If not specified the default value of 0.1 will be used.      feature_imp_needed : bool       \u2003 Boolean value specifying whether feature importance computation is required.       \u2003 Defaults to True; set to False to skip feature importance computation for faster execution.       converter_results_directory : Path       \u2003 Path to the directory where the converter outputs will be saved.       \u2003 If <code>None</code>, a default directory <code>current_working_directory/df_name_timestamp</code> will be automatically created, where timestamp corresponds to the creation time of the converted outputs.        </p> BuildRashomonAutogluon Pipeline \u2013 Key Steps <p></p> <ol> <li>Initialization (<code>__init__</code>) \u2013 Convert AutoGluon <code>TabularPredictor</code> object and test data to format for Rashomon Set analysis.</li> <li>Preview Rashomon (<code>preview_rashomon()</code>) \u2013 Visualize leaderboard and Rashomon Set sizes to guide epsilon selection.</li> <li>Set Epsilon (<code>set_epsilon()</code>) \u2013 Set epsilon parameter value to be used when creating Rashomon Set.</li> <li>Build Pipeline (<code>build()</code>) \u2013 Create RashomonSet, Visualizer objects and launch the Streamlit dashboard.</li> <li>Interactive Analysis \u2013 Explore plots via Visualizer object or the dashboard.</li> <li>Close Dashboard (<code>dashboard_close()</code>) \u2013 Stop Streamlit processes.</li> </ol> <p></p> Pipeline Initialization <p> \u2003 During initialization, the pipeline converts the user's input models into the internal format specified by <code>PredictorConverter</code> class object.   \u2003 All processed results are stored in the specified directory or in a default directory (see converter_results_directory parameter).  </p> Methods <p></p> preview_rashomon() <p>\u2003 Method illustrating the leaderboard and the plot with all possible epsilon values and the Rashomon Set sizes for different epsilon values.  \u2003 Should be called to guide the selection of an appropriate epsilon threshold.  </p> visualize_rashomon_set_volume() <p>\u2003 Method for visualising Rashomon set size depending on different epsilon values.  </p> set_epsilon(<code>epsilon</code>) <p>\u2003 Sets the epsilon parameter value to be used when constructing the Rashomon Set object.  Epsilon value must be set before calling build() method.  Parameters : <code>epsilon</code> : float  </p> build(<code>launch_dashboard</code>) <p>\u2003Builds the Rashomon Set pipeline from AutoGluon output. \u2003 Creates Rashomon Set object and Visualizer object from user's input and launches a Streamlit dashboard in a subprocess for interactive visualization.   \u2003 This method performs the following steps:</p> <ul> <li>Validates that the epsilon threshold has been set using <code>set_epsilon()</code> method.</li> <li>Creates the <code>RashomonSet</code> object based on the leaderboard, predictions, probability predictions, feature importances, base metric, and epsilon threshold.  All inputs required to build the Rashomon Set object are extracted from the user's data, which is processed and converted during the pipeline initialization.</li> <li>Initializes the <code>Visualizer</code> object for interactive analysis of the Rashomon Set.  Individual plots can later be generated directly from the <code>Visualizer</code> object.</li> <li>If <code>launch_dashboard</code> is set to True (default) it generates plots for analysis depending on the task type (binary or multiclass), and stores them temporarily with their descriptions for the Streamlit dashboard. It closes any previous Streamlit processes to avoid conflicts.</li> <li>If <code>launch_dashboard</code> is set to True (default) it launches the Streamlit dashboard in a subprocess on the local machine (localhost), allowing interactive exploration of the Rashomon Set properties without blocking the main workflow.</li> </ul> <p> Returns : <code>rashomon_set</code> : RashomonSet  <code>visualizer</code> : Visualizer  </p> dashboard_close() <p>\u2003 Method for stopping all Streamlit processes and closing the dashboard. \u2003 Note: Always call this method after finishing the analysis to ensure the dashboard is properly closed.</p> <p></p>"},{"location":"api/pipelines_user_input_intersection_autogluon/","title":"Pipelines user input intersection autogluon","text":"<p>back</p>"},{"location":"api/pipelines_user_input_intersection_autogluon/#buildrashomonintersectionautogluon","title":"BuildRashomonIntersectionAutogluon","text":"class rashomon_analysis.pipelines.pipelines_user_input.BuildRashomonIntersectionAutogluon(predictor, test_data, df_name, metrics, custom_weights, weighted_sum_method, delta, feature_imp_needed, converter_results_directory)  <p> This i a subclass of a <code>Builder</code> abstract class, which provides pipeline for creating and exploring the Rashomon Intersection from user-provided models from AutoGluon framework.   Example usage of this pipeline can be found at <code>demo_notebooks/AutoGluon_pipeline.ipynb</code>.  </p> Parameters <p> predictor : TabularPredictor       \u2003 Trained AutoGluon <code>TabularPredictor</code> object containing all models and training results.      test_data : TabularDataset      \u2003 Test dataset for evaluation, must be converted to <code>TabularDataset</code> object.      \u2003 Note 1:  It is crucial to stratify your data while performing the train test split, so that there are no classes in test data that were not present in the train set.       \u2003 Note 2 (for binary classification task):  It is crucial to convert binary target column labels into 0 for negative class and 1 for positive class. Otherwise, some evaluation metrics may not be calculated correctly.  df_name : str      \u2003 Name of the dataset used for saving the data generated by <code>PredictorConverter</code> output.      metrics : list      \u2003 List of two metrics to be used in the intersection calculation.      weighted_sum_method : str      \u2003 Specifies the method for selecting the base model for the Rashomon Intersection. Options are:     <ul> <li><code>None</code> or <code>'entropy'</code> (default): selects the base model using an entropy-based method.</li> <li><code>'critic'</code>: selects the base model using a critic-based method.</li> <li><code>'custom_weights'</code>: selects the base model using weights provided by the user.</li> </ul> custom_weights : list      \u2003 Specifies the weights for base model selection when <code>weighted_sum_method</code> is set to <code>'custom_weights'</code>. User must specify weights in 2-element list.      delta : float       \u2003 Delta parameter for probabilistic ambiguity and discrepancy (used only for binary task type).       \u2003 If not specified the default value of 0.1 will be used.      feature_imp_needed : bool       \u2003 Boolean value specifying whether feature importance computation is required.       \u2003 Defaults to True; set to False to skip feature importance computation for faster execution.       converter_results_directory : Path       \u2003 Path to the directory where the converter outputs will be saved.       \u2003 If <code>None</code>, a default directory <code>current_working_directory/df_name_timestamp</code> will be automatically created, where timestamp corresponds to the creation time of the converted outputs.        </p> BuildRashomonIntersectionAutogluon Pipeline \u2013 Key Steps <p></p> <ol> <li>Initialization (<code>__init__</code>) \u2013 Convert AutoGluon <code>TabularPredictor</code> object and test data to format for Rashomon Intersection analysis.</li> <li>Preview Rashomon (<code>preview_rashomon()</code>) \u2013 Visualize leaderboard and Rashomon Intersection sizes to guide epsilon selection.</li> <li>Set Epsilon (<code>set_epsilon()</code>) \u2013 Set epsilon parameter value to be used when creating Rashomon Intersection.</li> <li>Build Pipeline (<code>build()</code>) \u2013 Create RashomonIntersection, IntersectionVisualizer objects and launch the Streamlit dashboard.</li> <li>Interactive Analysis \u2013 Explore plots via IntersectionVisualizer object or the dashboard.</li> <li>Close Dashboard (<code>dashboard_close()</code>) \u2013 Stop Streamlit processes.</li> </ol> <p></p> Pipeline Initialization <p> \u2003 During initialization, the pipeline converts the user's input models into the internal format specified by <code>PredictorConverter</code> class object.   \u2003 All processed results are stored in the specified directory or in a default directory (see converter_results_directory parameter).  </p> Methods <p></p> preview_rashomon() <p>\u2003 Method illustrating the leaderboard and the plot with all possible epsilon values and the Rashomon Intersection sizes for different epsilon values.  \u2003 Should be called to guide the selection of an appropriate epsilon threshold.  </p> visualize_rashomon_set_volume() <p>\u2003 Method for visualising Rashomon Intersection size depending on different epsilon values.  </p> set_epsilon(<code>epsilon</code>) <p>\u2003 Sets the epsilon parameter value to be used when constructing the Rashomon Intersection object.  Epsilon value must be set before calling build() method.  Parameters : <code>epsilon</code> : float  </p> build(<code>launch_dashboard</code>) <p>\u2003Builds the Rashomon Intersection pipeline from AutoGluon output. \u2003 Creates Rashomon Intersection object and Intersection Visualizer object from user's input and launches a Streamlit dashboard in a subprocess for interactive visualization.   \u2003 This method performs the following steps:</p> <ul> <li>Validates that the epsilon threshold has been set using <code>set_epsilon()</code> method.</li> <li>Creates the <code>RashomonIntersection</code> object based on the leaderboard, predictions, probability predictions, feature importances, metrics, methods to select base model, and epsilon threshold.  All inputs required to build the Rashomon Intersection object are extracted from the user's data, which is processed and converted during the pipeline initialization.</li> <li>Initializes the <code>IntersectionVisualizer</code> object for interactive analysis of the Rashomon Intersection.  Individual plots can later be generated directly from the <code>IntersectionVisualizer</code> object.</li> <li>If <code>launch_dashboard</code> is set to True (default) it generates plots for analysis depending on the task type (binary or multiclass), and stores them temporarily with their descriptions for the Streamlit dashboard. It closes any previous Streamlit processes to avoid conflicts.</li> <li>If <code>launch_dashboard</code> is set to True (default) it launches the Streamlit dashboard in a subprocess on the local machine (localhost), allowing interactive exploration of the Rashomon Intersection properties without blocking the main workflow.</li> </ul> <p> Returns : <code>rashomon_set</code> : RashomonIntersection  <code>visualizer</code> : IntersectionVisualizer  </p> dashboard_close() <p>\u2003 Method for stopping all Streamlit processes and closing the dashboard. \u2003 Note: Always call this method after finishing the analysis to ensure the dashboard is properly closed.</p> <p></p>"},{"location":"api/rashomon_itersection/","title":"Rashomon itersection","text":"<p>back</p>"},{"location":"api/rashomon_itersection/#rashomonintersection","title":"RashomonIntersection","text":"class rashomon_analysis.RashomonIntersection(leaderboard, predictions, proba_predictions, feature_importances, metrics, epsilon, custom_weights, weighted_sum_method)  <p> This class is used for calculating Rashomon Set Intersection for two Rashomon Sets based on two different metrics. The class inherits from RashomonSet, providing access to all metrics and attriutes implemented in the RashomonSet class, only modifies the selection of Rashomon Sets and the base model.  </p> Parameters <p> leaderboard : pd.DataFrame       \u2003  Leaderboard in a DataFrame format consisting of models and their evaluation metrics scores.(Returned by converters)      predictions : dict      \u2003  Dictionary with model names as keys and class prediction vectors as values. (Returned by converters)      proba_predictions : dict      \u2003 Dictionary with model names as keys and class probabilities prediction DataFrames as values. (Returned by converters)      metrics : str      \u2003 List containing two distinct evaluation metrics used to compute Rashomon Sets and determine their intersection. Evaluation metrics are used as a primary value for sorting model performances. Allowed metrics are specified in METRICS attribute.       epsilon : float      \u2003 Epsilon parameter specifying the allowable deviation from the best score for each evaluation metric, within which models are included in their respective Rashomon Sets and used to compute their intersection.      custom_weights : list       \u2003 List with two elements specifying custom weights when searching for base model. If weighted_sum is 'custom_weights' then the user must specify weights in 2-element list with elements that sum to 1, if not leave it at default value = None.      weighted_sum_method : str       \u2003 Parameter that specifies the method or weights for selecting the base model. Options are:      <ul> <li>None or 'entropy' (default): Uses an entropy-based weighting method to select the base model.</li> <li>'critic': Uses the CRITIC method to determine weights for selecting the base model.</li> <li>'custom_weights': Allows manual specification of weights as a 2-element list whose values sum to 1.</li> </ul> </p> Attributes <p> base_model : str      \u2003 Name of the model selected based on the weighted sum of the two evaluation metrics.      all_rashomon_sets : list      \u2003 A dictionary where each key is a metric and each value is the corresponding Rashomon set for that metric.      rashomon_set : list      \u2003 Names of the models that are included in the Rashomon Set Intersection for given parameters. Obtained from get_rashomon_set() method. If the size of the set happens to contain less than 2 models, the constructor throws ValueError and asks to specify different parameters such as metrics and epsilon.      rashomon_predictions : dict      \u2003 A subset of predictions dict parameter containing only models that are included in the Rashomon Set Intersection.      rashomon_proba_predictions : dict      \u2003 A subset of proba_predictions dict parameter containing only models that are included in the Rashomon Set Intersection.      metrics : list      \u2003 List of evaluation metrics used to compute the intersection of two Rashomon Sets, each calculated based on one of the metrics.      weights : pd.Series      \u2003 Pandas Series with weights either computed by selected method or passed by user as init parameter.      leaderboard : pd.DataFrame       \u2003 User parameter value.      predictions : dict      \u2003  User parameter value.      proba_predictions : dict      \u2003 User parameter value.      metrics : str      \u2003 User parameter value.      epsilon : float      \u2003 User parameter value.      custom_weights : list       \u2003 User parameter value       weighted_sum_method : list       \u2003 User parameter value       </p> <p> </p> Methods <p></p> get_rashomon_set_for_metric(<code>metric, epsilon</code>) <p>\u2003 Method for getting Rashomon set for a given metric. Parameter <code>metric</code> specifies metric for which Rashomon set is to be calculated. If the value of epsilon is not specified, uses <code>self.epsilon</code> value. Returns a list of models that are in the Rashomon set for the given metric.  Parameters : <code>metric</code>: str  <code>epsilon</code>: float, default = None  Returns : <code>rashomon_models_names</code> : list  </p> find_rashomon_intersection(<code>epsilon</code>) <p>\u2003 Method for calculating the intersection of Rashomon sets by identifying models that are present in the Rashomon set for each metric and the given epsilon. If the value of epsilon is not specified, uses <code>self.epsilon</code> value. Returns a list of model names present in the Rashomon Intersection. If the intersection is empty, returns an empty list.  Parameters : <code>epsilon</code>: float, default = None  Returns : <code>rashomon_models_names</code> : list  </p> get_rashomon_set(<code>epsilon</code>) <p>\u2003 Method that returns the names of models included in the Rashomon Intersection for a specified epsilon and two metrics. If the value of epsilon is not specified, uses <code>self.epsilon</code> value. This method overrides the implementation from the RashomonSet class to use intersection models instead of single-metric models.  Parameters : <code>epsilon</code>: float, default = None  Returns : <code>rashomon_intersection</code> : list  </p> get_rashomon_predictions() <p>\u2003 Override method to use intersection models, not single metric models. Returns predictions and proba predictions for models present in Rashomon Intersection.   Returns : <code>rashomon_predictions</code> : dict  <code>rashomon_proba_predictions</code> : dict  </p> get_rashomon_feature_importances() <p>\u2003 Override method to select feature importance information for only models present in the Rashomon Intersection.  Returns : <code>rashomon_importances</code> : dict  </p> find_base_model(<code>weight1</code>, <code>weight2</code>) <p>\u2003 Method for finding base_model based on user passed weight values. Returns model name which maximizes value of <code>w1 * metrics[0] + w2 * metric[1]</code>. If many models have the same sum value, base model is the first one in the leaderboard.  This method overrides the implementation from the RashomonSet class to use intersection models instead of single-metric models. Note: Weight parameters must sum to 1. Parameters : <code>weight1</code>: float  <code>weight2</code>: float  Returns : <code>best_model</code> : str  </p> find_worst_model() <p>\u2003 Method for finding the worst model based on user passed weight values. Returns model name which minimizes value of <code>w1 * metrics[0] + w2 * metric[1]</code>. If many models have the same sum value, the worst model is the first one in the leaderboard. This method overrides the implementation from the RashomonSet class to use intersection models instead of single-metric models.  Returns : <code>worst_model</code> : str  </p> find_same_score_as_base() <p>\u2003 Method used to find models in the Rashomon Intersection set that produce the same weighted sum of metrics values as base model. Returns number of models found with the same score as base model and list of their names. This method overrides the implementation from the RashomonSet class to use intersection models instead of single-metric models.  Returns : <code>same_scores_count</code> : int  <code>same_scores_models</code> : list  </p> find_weights_entropy_based() <p>\u2003 Method for finding weights based on the entropy method. Returns weights as a pandas Series with index as metric names and values as weights. The weights should satisfy the constraint that they sum to 1. Entropy based weights are defined as:</p> \\[  { w_i := \\frac{1 - e(x_i)}{\\sum_{i=1}^m(1-e(x_i))}} \\] <p>where</p> \\[  { e(x_i) := - \\frac{\\sum_{i=1}^mf_iln(f_i)}{ln(m)}} \\] <p>In the context of calculating the weights of two base_metrics, \\(f_i\\) is the scaled metric value and m is the number of models in the Rashomon Intersection. Then entropy is calculated for both base_metrics as \\(e(x_i)\\) where \\(x_1\\) is th first metric and \\(x_2\\) the second one. Read more about the entropy method : Effectiveness of Entropy Weight Method in Decision-Making Returns : <code>weights</code> : pd.Series </p> find_base_model_entropy_based() <p>\u2003 Method for finding base_model based on entropy method. Finds the base model by computing the weighted sum of the two metrics using entropy-based weights and selecting the model with the highest score. If many models have the same sum value, base model is the first one in the leaderboard.  Returns : <code>best_model</code> : str  </p> find_weights_critic_method() <p>\u2003 Method for finding weights based on the CRITIC (Criteria Importance Through Intercriteria Correlation) method. Returns weights as a pandas Series with index as metric names and values as weights. The weights should satisfy the constraint that they sum to 1. CRITIC based weights are defined as:  </p> \\[  \\displaystyle {w_j = \\frac{c_j}{\\sum_{k=1}^{n} c_k}, \\quad j = 1,\\dots,n} \\] <p>where</p> \\[  \\displaystyle {c_j = \\sigma_j \\sum_{k=1}^{n} (1 - \\rho_{jk}), \\quad j = 1,\\dots,n} \\] <p>\\(\\sigma_j\\) denotes standard deviation of the normalized values of criterion \\(j\\) across all alternatives and \\(\\rho_{jk}\\) is Pearson correlation coefficient between criteria \\(j\\) and \\(k\\). In case of finding weights based on two base metrics \\(n=2\\).</p> <p>Read more about the CRITIC method : Selected Multi-Criteria Decision-Making Methods and Their Applications to Product and System Design </p> <p> Note: This method involves computing the correlation matrix and standard deviations of the metrics. If CRITIC cannot be applied due to insufficient variation caused by identical metric values, or other numerical issues, it falls back to the entropy-based method.  Returns : <code>weights</code> : pd.Series </p> find_base_model_critic_based() <p>\u2003 Method for finding base_model based on CRITIC method. Finds the base model by computing the weighted sum of the two metrics using CRITIC-based weights and selecting the model with the highest score. If many models have the same sum value, base model is the first one in the leaderboard.  Returns : <code>best_model</code> : str  </p> get_rashomon_metrics(<code>delta</code>) <p>\u2003 Method for getting all Rashomon Intersection metrics in a dictionary format.  Delta parameter is a threshold for probabilistic ambiguity and discrepancy. Returns all numeric metrics and information on Rashomon intersection (not including VPRs and Agreement Rates). This method overrides the implementation from the RashomonSet class to use intersection models instead of single-metric models.  Parameters : <code>delta</code>: float, default = 0.1  Returns : <code>metrics</code> : dict  </p> summarize_rashomon(<code>delta</code>) <p>\u2003 Method for printing all calculated metrics for Rashomon Intersection in a structured format. This method overrides the implementation from the RashomonSet class to use intersection models instead of single-metric models.  Parameters : <code>delta</code>: float, default = 0.1 </p>"},{"location":"api/rashomon_set/","title":"Rashomon set","text":"<p>back</p>"},{"location":"api/rashomon_set/#rashomonset","title":"RashomonSet","text":"class rashomon_analysis.RashomonSet(leaderboard, predictions, proba_predictions, feature_importances, base_metric, epsilon)  <p> This class is the core class of the package. It creates the Rashomon Set for a given epsilon value and selected evaluation metric.   </p> Parameters <p> leaderboard : pd.DataFrame       \u2003  Leaderboard in a DataFrame format consisting of models and their evaluation metrics scores. (Returned by converters)      predictions : dict      \u2003  Dictionary with model names as keys and class prediction vectors as values. (Returned by convertees)      proba_predictions : dict      \u2003 Dictionary with model names as keys and class probabilities prediction DataFrames as values. (Returned by converters)      base_metric : str      \u2003 Evaluation metric to be used as a primary value for sorting model performances. Allowed metrics are specified in the METRICS attribute.       epsilon : float      \u2003 Epsilon parameter specifying the allowable deviation from the best evaluation metric, within which a model qualifies for inclusion in the Rashomon Set.  </p> Note <p> Allowed values of the <code>base_metric</code> parameter are:  Binary classification:  'accuracy', 'balanced_accuracy',  'roc_auc', 'average_precision', 'precision', 'precision_macro', 'precision_micro','precision_weighted', 'recall', 'recall_macro', 'recall_micro', 'recall_weighted', 'f1', 'f1_macro', 'f1_micro', 'f1_weighted'    Multiclass classification:  'accuracy', 'balanced_accuracy', 'precision_macro', 'precision_micro', 'precision_weighted','recall_macro', 'recall_micro', 'recall_weighted', 'f1_macro', 'f1_micro', 'f1_weighted', 'roc_auc_ovo', 'roc_auc_ovo_weighted','roc_auc_ovr', 'roc_auc_ovr_micro', 'roc_auc_ovr_weighted'  The <code>epsilon</code> parameter value should be greater than 0, as it represents the absolute difference threshold.  </p> Attributes <p> base_model : str      \u2003 Name of the model that achieved the highest score for the evaluation metric specified by base_metric parameter.      best_score : float      \u2003 The best value of the base_metric achieved by all models.      worst_score : dict      \u2003 The worst value of the base_metric achieved by all models.      rashomon_set : list      \u2003 Names of the models that are included in the Rashomon Set for given parameters. Obtained from get_rashomon_set() method. If the size of the set happens to contain less than 2 models, the constructor throws ValueError and asks to specify different parameters such as base_metric and epsilon.      rashomon_predictions : dict      \u2003 A subset of predictions dict parameter containing only models that are included in the Rashomon Set.      rashomon_proba_predictions : dict      \u2003 A subset of proba_predictions dict parameter containing only models that are included in the Rashomon Set.      number_of_classes : int      \u2003 Determining number of classes in the task based on the predictions vector. Obtained from determine_number_of_classes() method.      task_type : str      \u2003 Classification task type - 'binary' or 'multiclass' obtained from determine_task_type() method.       METRICS : list      \u2003 All evaluation metrics that are allowed for analysis.       METRICS_GREATER_IS_BETTER : dict      \u2003 A dictionary containing classification evaluation metrics names and the boolean value indicating whether this metric is interpreted as 'greater is better' (e.g accuracy) or not (e.g log loss).      leaderboard : pd.DataFrame       \u2003 leaderboard parameter value      predictions : dict      \u2003  predictions parameter value      proba_predictions : dict      \u2003 proba_predictions parameter value      base_metric : str      \u2003 base_metric parameter value      epsilon : float      \u2003 epsilon parameter value   </p> Methods <p></p> determine_task_type() <p>\u2003 Returns whether the task type for a given dataset is binary or multiclass classification based on prediction vectors. If another task type is determined, the method throws ValueError.   Returns : <code>task_type</code> : str  </p> determine_number_of_classes() <p>\u2003 Method for determining number of classes in the task based on predictions vector.  Returns : <code>number_of_classes</code> : int  </p> determine_number_of_samples() <p>\u2003 Method for determining number of samples in the task based on predictions vector.  Returns : <code>number_of_samples</code> : int  </p> find_base_model() <p>\u2003 Returns the name of the model which achieved the best score for the evaluation metric specified by base_metric parameter. Uses the METRICS_GREATER_IS_BETTER to include the differences in metrics evaluation.  Returns : <code>base_model</code> : str  </p> find_worst_model() <p>\u2003 Returns the name of the model which achieved the worst score for the evaluation metric specified by base_metric parameter. Uses the METRICS_GREATER_IS_BETTER to include the differences in metrics evaluation.  Returns : <code> worst_model</code> : str  </p> find_same_score_as_base() <p>\u2003 Returns the number and names of models which achieved the same score for the evaluation metric specified by base_metric parameter as the base_model. Used especially when there are multiple models with the same scores.  Returns : <code>same_scores_count</code> : int  <code>same_scores_models</code> : list  </p> get_rashomon_set(<code>epsilon</code>) <p>\u2003 Returns the names of models that are included in the Rashomon Set for a specified epsilon and base_metric. Rashomon set is defined as: </p> <p>$$  S_\\epsilon(h_0) := \\lbrace h \\in H : R(h_0) \\le R(h) + \\epsilon \\rbrace $$ where \\(h_0\\) is the base_model, H is a set of all models in a hypothesis space and R is a selected risk function (base_metric).  Read more about the Rashomon Set : Predictive Multiplicity in Classification (Definition 1) Parameters : <code>epsilon</code>: float, default = None   When a different epsilon value is not specified the method uses the epsilon parameter value. Returns : <code>rashomon_set</code> : list  </p> get_rashomon_predictions() <p>\u2003 Returns the subsets of predictions and proba_predictions dictionaries containing only models that are included in the Rashomon Set.  Returns : <code>rashomon_predictions</code> : dict  <code>rashomon_proba_predictions</code> : dict  </p> get_rashomon_feature_importances() <p>\u2003 Returns the subsets of the feature_importance_dict containing only models that are included in the Rashomon Set.  Returns : <code>rashomon_feature_importances</code> : dict  </p> binary_ambiguity() <p>\u2003 Calculates binary ambiguity of a rashomon set by counting all observations where at least one model made a different class prediction than the base model. Those observations are considered ambiguous. Returns the fraction of ambiguous observations. Ambiguity is defined as:</p> <p>$$  \\displaystyle { \\alpha(h_0) := \\frac{1}{n}\\sum_{i=1}^n max_{h \\in S_{\\epsilon}} \\mathbf{1}[h(x_i) \\neq h_0(x_i)]} $$ where \\(S_\\epsilon\\) is the Rashomon Set and \\(h(x_i)\\) is the models predction for observation \\(x_i\\). Read more about binary ambiguity : Predictive Multiplicity in Classification (Definition 3)  Note : Method available only for binary classification task type.  Returns : <code>binary_ambiguity</code> : float  </p> multiclass_ambiguity() <p>\u2003 Calculates multiclass ambiguity of the Rashomon Set by counting all observations where at least one model made a different class prediction than the base model. Those observations are considered ambiguous. Returns the fraction of ambiguous observations. Multiclass ambiguity is defined as:</p> <p>$$  \\displaystyle { \\alpha(h_0) := \\frac{1}{n}\\sum_{i=1}^n max_{h \\in S_{\\epsilon}} \\mathbf{1}[argmax(h(x_i)) \\neq argmax(h_0(x_i))]} $$ where \\(S_\\epsilon\\) is the Rashomon Set and \\(h(x_i)\\) is the class probabilities prediction vector for observation \\(x_i\\), then the \\(argmax(h(x_i))\\) is the predicted class.  Read more about muliclass ambiguity : Rashomon Capacity: A Metric for Predictive Multiplicity in Classification (Equation 2)  Note: Method available only for multiclass classification task type.  Returns : <code>multiclass_ambiguity</code> : float  </p> probabilistic_ambiguity(<code>delta</code>) <p>\u2003 Calculates probabilistic ambiguity of the Rashomon Set by counting all observations where at least one model made a different risk prediction than the base model. Risk predictions need to have a difference greater than delta to be considered conflicting. Returns the fraction of ambiguous observations. The definition of probabilistic ambiguity is as follows:</p> <p>$$  \\displaystyle { \\alpha(h_0, \\delta) := \\frac{1}{n}\\sum_{i=1}^n \\mathbf{1}[max_{h \\in S_{\\epsilon}} |g(x_i) - g_0(x_i)| \\ge \\delta ]} $$ where \\(S_\\epsilon\\) is the Rashomon Set and \\(g(x_i)\\) is the risk probability prediction \\(P(y_i=1|x_i)\\) for observation \\(x_i\\).  Read more about probabilistic ambiguity : Predictive Multiplicity in Probabilistic Classification (Definition 3)  Note : Method available only for binary classification task type.  Parameters : <code>delta</code> : float  delta parameter indicates the minimum difference between two risk probabilities for the predictions to be considered conflicting. Returns : <code>probabilistic_ambiguity</code> : float  </p> binary_discrepancy() <p>\u2003 Calculates discrepancy for binary classification task by counting how many predictions differ between base and reference model. Then choses the max sum of different predictions across all models from the Rashomon Set. Discrepancy is defined as:</p> <p>$$  \\displaystyle { \\delta(h_0) := max_{h \\in S_{\\epsilon}} \\frac{1}{n}\\sum_{i=1}^n  \\mathbf{1}[h(x_i) \\neq h_0(x_i)]} $$ where \\(S_\\epsilon\\) is the Rashomon Set and \\(h(x_i)\\) is the models predction for observation \\(x_i\\). Read more about binary discrepancy : Predictive Multiplicity in Classification (Definition 4)  Note: Method available only for binary classification task type.  Returns : <code>binary_discrepancy</code> : float  </p> multiclass_discrepancy() <p>\u2003 Calculates discrepancy for multiclass classification tasks by counting how many predictions differ between base and reference model. Then chooses the max sum of different predictions across all models from the Rashomon Set. Multiclass disrepancy is defined as:</p> <p>$$  \\displaystyle { \\delta(h_0) := max_{h \\in S_{\\epsilon}} \\frac{1}{n}\\sum_{i=1}^n  \\mathbf{1}[argmax(h(x_i)) \\neq argmax(h_0(x_i))]} $$ where \\(S_\\epsilon\\) is the Rashomon Set and \\(h(x_i)\\) is the class probabilities prediction vector for observation \\(x_i\\), then the \\(argmax(h(x_i))\\) is the predicted class.  Read more about muliclass discrepancy : Rashomon Capacity: A Metric for Predictive Multiplicity in Classification (Equation 2)  Note : Method available only for multiclass classification task type.  Returns : <code>multiclass_discrepancy</code> : float  </p> probabilistic_discrepancy(<code>delta</code>) <p>\u2003 Calculates discrepancy for binary target task by counting how many risk predictions differ between base and reference model. For predictions to be considered conflicting their difference must be greater than delta. Then choses the max sum of different predictions across all models from the Rashomon Set. Probabilistic discrepancy is defined as follows:</p> <p>$$  \\displaystyle { \\delta_\\epsilon(h_0, \\delta) := max_{h \\in S_{\\epsilon}}\\frac{1}{n}\\sum_{i=1}^n \\mathbf{1}[ |g(x_i) - g_0(x_i)| \\ge \\delta ]} $$ where \\(S_\\epsilon\\) is the Rashomon Set and \\(g(x_i)\\) is the risk probability prediction \\(P(y_i=1|x_i)\\) for observation \\(x_i\\).  Read more about probabilistic discrepancy : Predictive Multiplicity in Probabilistic Classification (Definition 4)  Note : Method available only for binary classification task type.  Parameters : <code>delta</code> : float      delta parameter indicates the minimum difference between two risk probabilities for the predictions to be considered conflicting. Returns : <code>probabilistic_discrepancy</code> : float  </p> viable_prediction_range() <p>\u2003 Calculates the viable prediction range for each observation in the test dataset as the min and max risk probability predicted across all models in the Rashomon Set. Wide prediction range suggests high uncertainty about the observations prediction. VPR for the given observation is defined as: </p> <p>$$ \\displaystyle { V_\\epsilon(x_i) := [min_{g \\in S_\\epsilon} g(x_i), max_{g \\in S_\\epsilon} g(x_i)] } $$ where \\(S_\\epsilon\\) is the Rashomon Set and \\(g(x_i)\\) is the risk probability prediction \\(P(y_i=1|x_i)\\) for observation \\(x_i\\).  Read more about Viable Prediction Range : Predictive Multiplicity in Probabilistic Classification (Definition 2)  Note : Method available only for binary classification task type.  Returns : <code>vprs</code> : list[tuple[float, float]]  </p> agreement_rate() <p>\u2003 For each observation, calculates the percentage of models, which made the same class prediction as the base model. If all models from the Rashomon Set predicted the same class as the base model, the agreement rate for the observation equals 1.   Returns : <code>agreement_rates</code> : list[float]  </p> percent_agreement() <p>\u2003 Calculates the proportion of observations for which each model from the Rashomon Set predicted the same class as the base model. Returns a dictionary mapping model names to their corresponding agreement percentages with the base model. If a given model made the same predictions for all observations as the base model, its percent agreement equals 100%.  Returns : <code>percent_agreements</code> : dict[str, float]  </p> rashomon_ratio() <p>\u2003 Calculates Rashomon Ratio which is the ratio of the Rashomon Set size to the total number of models present in the leaderboard.  </p> \\[ \\displaystyle \\hat{R}(H, \\epsilon) := \\frac{\\text{vol}(S_{\\epsilon}(h_0))}{\\text{vol}(H)} \\] <p>where \\(\\text{vol}(S_{\\epsilon}(h_0))\\) denotes the \"volume\" of the Rashomon Set \u2014 in our empirical setting this corresponds to the number of models in the Rashomon Set. Similarly, \\(\\text{vol}(H)\\) represents volume of hypothesis space, in this case number of models generated by AutoML framework.</p> <p>Read more about the Rashomon Ratio in: A Study in Rashomon Curves and Volumes: A New Perspective on Generalization and Model Simplicity in Machine Learning (Definition 2) Returns : <code>rashomon_ratio</code> : float  </p> get_patterns_rashomon_set() <p>\u2003 Method to retrieve all unique prediction patterns from the Rashomon Set, representing the collection of predictions produced by each model in the set. Returns a set of patterns in the Rashomon Set.  Returns : <code>patterns</code> : set  </p> get_patterns_hypothesis_set() <p>\u2003 Method to retrieve all unique prediction patterns from models present in the hypothesis space (leaderboard).  Returns : <code>patterns</code> : set  </p> pattern_rashomon_ratio() <p>\u2003 Method for calculating Pattern Rashomon Ratio, defined as ratio of the number of unique prediction patterns in the Rashomon Set to the total number of unique predictions patterns in the hypothesis space (leaderboard). </p> \\[ \\hat{R}_{\\mathrm{pattern}}(H, \\epsilon) :=  \\frac{\\lvert \\lbrace h(X) : h \\in S_\\epsilon \\rbrace \\rvert}      {\\lvert \\lbrace h(X) : h \\in H \\rbrace \\rvert} \\] <p>where \\(X\\) denotes the dataset all the models were trained on, and \\(h(X)\\) denotes all predictions made by model \\(h\\) across all samples in the dataset. </p> <p>\\(H\\) is the hypothesis space (in this case all models present in the leaderboard), and \\(S_\\epsilon\\) is the Rashomon Set.</p> <p>Read more about the Pattern Rashomon Ratio in: A Study in Rashomon Curves and Volumes: A New Perspective on Generalization and Model Simplicity in Machine Learning (Definition 3)</p> <p> Returns : <code>pattern_rashomon_ratio</code>: float  </p> rashomon_capacity( <code>sample_index</code> ) <p>\u2003 Method for calculating Rashomon Capacity for a given sample. The parameter <code>sample_index</code> should be an index of a sample the Rashomon Capacity is to be calculated. The output value is a float in the range [1, c], where c is the number of classes in the classification task.  \u2003 If Rashomon Capacity equals 1, then all the models produced the same outputs for given sample, so there is no predictive multiplicity.  \u2003 If Rashomon Capacity equals c, that indicates that the models produce maximally diverse predictions for the given sample, resulting in highest predictive multiplicity.   \u2003 Read more about Rashomon Capacity: Rashomon Capacity: A Metric for Predictive Multiplicity in Classification (Definition 2).  Parameters : <code>sample_index</code> : int      Returns : <code>rashomon_capacity</code> : float  </p> generate_transition_matrix( <code>sample_index</code> ) <p>\u2003 Method for generating transition matrix for a given sample. Transition matrix (m, c) is a matrix, where m corresponds to the number of models included in the set, while c denotes the number of classes associated with the prediction task. This matrix is used by the Blahut\u2013Arimoto algorithm to compute the channel capacity.  Parameters : <code>sample_index</code> : int  Returns : <code>transition_matrix</code> : np.ndarray  </p> blahut_arimoto_algorithm( <code>transition_matrix</code>,  <code>max_iterations</code>, <code>tolerance</code>) <p>\u2003 Method for computing the channel capacity for a given sample.  Channel capacity is defined as the maximum mutual information between the channel input X (here representing the models in the Rashomon set) and the channel output Y (the corresponding probabilistic predictions), maximized over all possible input distributions p(x).  \u2003 Intuitively, this algorithm finds the probability distribution over models (inputs) that maximizes how informative their predictions (outputs) are.  \u2003 For more details and inspiration, see the Rashomon Capacity GitHub repository.  Parameters : <ul> <li><code>transition_matrix</code> : np.array, matrix with m rows (models from the Rashomon Set) and c columns (number of classes for specified task). The columns of the transition matrix represent the class probability distributions predicted by each model for every class for specific sample.</li> <li><code>max_iterations</code> : int, maximum number of algorithm iterations, default = 1000</li> <li><code>tolerance</code> : float, error tolerance for algorithm to stop iterations, default = 1e-8</li> </ul> Returns : <code>channel_capacity</code> : float  </p> cohens_kappa() <p>\u2003 Method for calculating Cohen's Kappa metric for every model in the Rashomon Set relative to the base model. Cohen's Kappa measures agreement between two models predictions adjusted for agreement expected to occur by chance.   Values range from -1 to 1, where 1 indicates perfect agreement in models predictions, 0 means agreement that would be expected by chance and -1 denotes no agreement where models make opposite predictions.</p> <p>The formula for calculating Cohen's Kappa is defined as follows: $$ \\displaystyle \\kappa = \\frac{p_o - p_e}{1 - p_e} $$ where \\(p_o\\) denotes observed agreement between two models (proportion of matching predictions generated by both models, see percent agreement metric) and \\(p_e\\) is the expected agreement by chance, calculated from the marginal proportions of predictions for each class by the models.  Returns : <code>cohens_kappa_dict</code> : dict </p> cohens_kappa_matrix() <p>\u2003 Method for calculating the Cohen's Kappa metric for every pair of models in the Rashomon Set. It returns a symmetric matrix where the entry at [i, j] represents the Cohen's Kappa score between model i and model j.  Diagonal entries are 1.0, representing a model compared with itself.  Returns : <code>kappa_matrix</code> : pd.DataFrame  </p> get_rashomon_metrics( <code>delta</code> ) <p>\u2003 Method for returning all Rashomon Set related metrics and attributes in a dictionary format. The retuned properties are: base model, rashomon set size, task type, number of classes, rashomon ratio, pattern rashomon ratio, ambiguity, discrepancy, probabilistic ambiguity, probabilistic discrepancy, VPRs, agreement rates, percent agreements, mean rashomon capacity, min rashomon capacity, max rashomon capacity, std rashomon capacity.   Parameters : <code>delta</code> : float, default = 0.1  delta parameter used in probabilitisc_ambiguity() and probabilitic_discrepancy() methods for binary task type Returns : <code>metrics</code> : dict  </p> summarize_rashomon( <code>delta</code> ) <p>\u2003 Method for printing key Rashomon Set related metrics and attributes on the console. The printed properties are: base metric, base model, models with the same score as base, best and worst score across all rashomon set models, rashomon set size, task type, number of classes, rashomon ratio, pattern rashomon ratio, ambiguity, discrepancy, probabilistic ambiguity, probabilistic discrepancy, min agreement rate, max agreement rate, std agreement rage, percent agreements, mean rashomon capacity, min rashomon capacity, max rashomon capacity, std rashomon capacity.   Parameters : <code>delta</code> : float, default = 0.1  delta parameter used in probabilitisc_ambiguity() and probabilitic_discrepancy() methods for binary task type </p>"},{"location":"api/visualizer/","title":"Visualizer","text":"<p>back</p>"},{"location":"api/visualizer/#visualizer","title":"Visualizer","text":"class rashomon_analysis.visualizers.Visualizer(rashomon_set, y_true)  <p> This class is responsible for creating visualizations and descriptions of the key properties and metrics related to the Rashomon Set.</p> <p>The main library used for the visualizations is Plotly. </p> <p></p> Parameters <p> rashomon_set : RashomonSet       \u2003   created RashomonSet object for analysis.      y_true : pd.DataFrame      \u2003   true class labels for every observation in the test dataset. (Returned by converters)     </p> <p> </p> Attributes <p> rashomon_set : RashomonSet       \u2003  rashomon_set parameter value      y_true : pd.DataFrame       \u2003  y_true parameter value      binary_methods : list[str]      \u2003  list of methods names, which create plots for binary task type analysis.       binary_methods : list[str]      \u2003  list of methods names, which create plots for multiclass task type analysis.       </p> Methods <p></p> base_model_return() <p>\u2003 Returns the <code>base_model</code> name of the given RashomonSet object and an empty plot.   Returns : <code>empty_plot</code> : go.Figure  <code>base_model</code> : str  </p> base_model_score_return() <p>\u2003 Returns the value of <code>base_metric</code> achieved by the <code>base_model</code> from the given RashomonSet object and an empty plot.   Returns : <code>empty_plot</code> : go.Figure  <code>base_score</code> : str  </p> base_metric_return() <p>\u2003 Returns the <code>base_metric</code> name used in the given RashomonSet object and an empty plot.   Returns : <code>empty_plot</code> : go.Figure  <code>base_metric</code> : str  </p> number_of_classes_return() <p>\u2003 Returns the number of classes obtained in the given RashomonSet object and an empty plot.   Returns : <code>empty_plot</code> : go.Figure  <code>number_of_classes</code> : str  </p> set_size_indicator() <p>\u2003 Creates the gauge plot representing the number of models from the whole leaderboard that are included in the analyzed RashomonSet. Returns the plot and its description.  Returns : <code>gauge_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> rashomon_ratio_indicator() <p>\u2003 Creates the Indicator plot for the <code>rashomon_ratio</code> metric obtained from the Rashomon Set. Returns the plot with its description.  Returns : <code>indicator_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> pattern_ratio_indicator() <p>\u2003 Creates the Indicator plot for the <code>pattern_rashomon_ratio</code> metric obtained from the Rashomon Set. Returns the plot with its description.  Returns : <code>indicator_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> lolipop_ambiguity_discrepancy() <p>\u2003 Creates the Lolipop chart for the <code>ambiguity</code> and <code>discrepancy</code> metrics obtained from the Rashomon Set. The x-axis represents the metric (e.g ambiguity or discrepancy) and the y-axis presents it's value. Returns the plot with its description.  Returns : <code>lolipop_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> lolipop_ambiguity_discrepancy_proba_version(<code>delta</code>) <p>\u2003 Creates the Lolipop chart for the <code>probabilistic_ambiguity</code> and <code>probabilistic_discrepancy</code> metrics obtained from the Rashomon Set. The x-axis represents the metric (e.g ambiguity or discrepancy) and the y-axis presents it's value for the given delta. Returns the plot with its description.   Note : Method available only for binary classification task type.  Parameters : <code>delta</code> : float  delta parameter indicates the minimum difference between two risk probabilities for the predictions to be considered conflicting. Returns : <code>lolipop_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> ambiguity_vs_epsilon() <p>\u2003 Creates the Line chart of the possible <code>ambiguity</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding ambiguities. The actual ambiguity value for the given Rashomon Set is highlighted with a different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> proba_ambiguity_vs_epsilon(<code>delta</code>) <p>\u2003 Creates the Line chart of the possible <code>probabilistic_ambiguity</code> values for the given delta with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding ambiguities. The actual ambiguity value for the given Rashomon Set is highlighted with the different color. Returns the plot with its description.   Note : Method available only for binary classification task type.  Parameters : <code>delta</code> : float  delta parameter indicates the minimum difference between two risk probabilities for the predictions to be considered conflicting. Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> discrepancy_vs_epsilon() <p>\u2003 Creates the Line chart of the possible <code>discrepancy</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding discrepancies. The actual discrepancy value for the given Rashomon Set is highlighted with the different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> proba_discrepancy_vs_epsilon(<code>delta</code>) <p>\u2003 Creates the Line chart of the possible <code>probabilistic_discrepancy</code> values for the given delta with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding discrepancies. The actual discrepancy value for the given Rashomon Set is highlighted with a different color. Returns the plot with its description.   Note : Method available only for binary classification task type.  Parameters : <code>delta</code> : float  delta parameter indicates the minimum difference between two risk probabilities for the predictions to be considered conflicting. Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> rashomon_ratio_vs_epsilon() <p>\u2003 Creates the Line chart of the possible <code>rashomon_ratio</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding rashomon_ratios. The actual rashomon_ratio value for the given Rashomon Set is highlighted with a different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> pattern_rashomon_ratio_vs_epsilon() <p>\u2003 Creates the Line chart of the possible <code>pattern_rashomon_ratio</code> values with respect to different <code>epsilons</code>. The x-axis represents the epsilon values, while the y-axis shows the corresponding pattern_rashomon_ratios. The actual pattern_rashomon_ratio value for the given Rashomon Set is highlighted with the different color. Returns the plot with its description.  Returns : <code>line_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> proba_probabilities_for_sample(<code>sample_index</code>) <p>\u2003 Visualizes the predicted probabilities for the chosen sample across all models present in the Rashomon Set. The sizes of the segments indicate how confident each model is in predicting each class. If the number of possible classes is greater than 10, the barplot is switched to a heatmap for better clarity. Returns the plot with its description.  Parameters : <code>sample_index</code> : int  index of the sample for which predictions are to be plotted Returns : <code>probabilities_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> rashomon_capacity_for_sample(<code>sample_index</code>) <p>\u2003 Method to visualize <code>rashomon_capacity</code> metric for given sample index. It creates a 1D plot, where the x-axis represents the range of possible Rashomon Capacity values from 1 to number of classes in the classification task (marked as black dots). The highlighted dot represents Rashomon Capacity value for the selected sample. Returns the plot with its description.  Parameters : <code>sample_index</code> : int  index of the sample for which predictions are to be plotted Returns : <code>scatter_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> rashomon_capacity_distribution() <p>\u2003 Visualizes the distribution of <code>rashomon_capacity</code> values across all samples in the dataset. The histogram visualizes the frequency of different capacity values. Returns the plot with its description.  Returns : <code>histogram_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> rashomon_capacity_distribution_by_class() <p>\u2003 Creates a visualization of the distribution of the <code>rashomon capacity</code> metric across all samples, grouped by their true class labels. Returns the plot with its description.  Returns : <code>box_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> percent_agreement_barplot() <p>\u2003 Visualizes the distribution of <code>percent_agreements</code> for all models in the Rashomon Set. The x-axis represents the different models, while the y-axis shows the corresponding percent_agreements with the base model. The horizontal line indicates the mean value of the percent_agreement across all models (besides the base_model) from the Rashomon Set. Returns the plot with its description.   Returns : <code>bar_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> cohens_kappa_diverging_barplot() <p>\u2003 Visualizes the distribution of <code>cohens_kappa</code> for all models in the Rashomon Set with respect to the base model. The y-axis represents the different models, while the x-axis shows the corresponding Cohen's Kappa metric value with the base model. Returns the plot with its description.   Returns : <code>fig</code> : go.Figure  <code>plot_descr</code> : str  </p> cohens_kappa_heatmap() <p>\u2003 Generates a heatmap of Cohen\u2019s Kappa values for every pair of models in the Rashomon Set, illustrating the level of agreement between their predictions. Returns the plot with its description.   Returns : <code>fig</code> : go.Figure  <code>plot_descr</code> : str  </p> generate_rashomon_set_table() <p>\u2003 Creates the table containing all models from the Rashomon Set with their values of the <code>base_metric</code> sorted in a descending order with the highlighted name of the base model. Additionally, a brief text description of the Rashomon Set main properties is returned. Returns the plot with its description.  Returns : <code>table</code> : pd.DataFrame  <code>set_descr</code> : str  </p> vprs_widths_plot() <p>\u2003 Visualizes the distribution of <code>VPRs</code> widths for all observations in the test dataset grouped by their true class label in a form of Box plots with visible points. The x-axis represents the class label (0 or 1), while the y-axis shows the corresponding VPRs widths. Returns the plot with its description.   Note : Method available only for binary classification task type.  Returns : <code>box_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> vpr_width_histogram() <p>\u2003 Creates the histogram of <code>VPRs</code> widths for all observations in the test dataset. The number of bins is determined using the Freedman\u2013Diaconis method. The x-axis represents the ranges of VPR widths, while the y-axis indicates the number of observations falling within each range. Returns the plot with its description.   Note : Method available only for binary classification task type.  Returns : <code>histogram_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> feature_importance_table() <p>\u2003 Generates a table summarizing feature importance information. It provides information about the ranking and occurrence of the most important features across the base model and all models in the Rashomon set. If feature importances are not available for a certain model, the table column is empty.   \u2003 Table columns: <code>Rank</code> \u2013 the position of the feature (1 being the most important). <code>Base Model Top 3</code> \u2013 the three most important features for the base model, if feature importance is available. <code>Most Frequent in Rashomon Set</code> \u2013 the features that most frequently appear as the 1st, 2nd, or 3rd most important across all models in the Rashomon set. Returns : <code>table</code> : go.Figure  <code>table_descr</code> : str  </p> feature_importance_heatmap() <p>\u2003 Generates a heatmap visualizing the top three most important features  for each model in the Rashomon set. The x-axis shows feature names and the y-axis lists models from the Rashomon set.  Feature ranks are defined as follows: Rank = 0 \u2013 feature is not present in the top 3 most important features. Rank = 1 \u2013 feature is the most important feature selected by the model. Rank = 2 \u2013 feature is the second most important feature selected by the model. Rank = 3 \u2013 feature is the third most important feature selected by the model.  Cell colors represent the feature\u2019s rank within each model. No color represents a feature not present in the top 3 for the model. The most important feature for model (Rank 1) is represented by red color, second most important (Rank 2) by orange and third most important (Rank 3) by yellow.  Note: If any model present in the Rashomon Set does not have feature importance available, then its corresponding row of the heatmap is empty. In other words, an empty row does not indicate that the model does not consider any of the features important.  Returns : <code>heatmap_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> agreement_rates_density() <p>\u2003 Creates the Violin plot of the <code>agreement_rate</code> values for all observations in the test dataset. Returns the plot with its description.  Returns : <code>violin_plot</code> : go.Figure  <code>plot_descr</code> : str  </p> vprs_vs_base_model_plot() <p>\u2003 Creates the violin plot showing how the base model's risk predictions compare to the range of predictions produced by all models in the Rashomon set. For each observation, the Viable Prediction Range (VPR) is defined as  [min risk prediction, max risk prediction] across all models from the Rashomon Set. This plot allows the user to see where the base model's prediction falls within this range for each observation. For the positive class the difference is calculated as the max risk prediction - base model's risk prediction, while for the negative class it's the base model's risk prediction - min risk prediction.   Note : Method available only for binary classification task type.  Returns : <code>violin_plot</code> : go.Figure  <code>plot_descr</code> : str  </p>"}]}